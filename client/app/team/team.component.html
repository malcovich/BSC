
<app-toast [message]="toast.message"></app-toast>
<div class="bd-content p-5">
	<div class="row">
		<div class="col-9"  *ngIf="team">
			<div class="row">
				<div class="col-12">
					<span class="btn btn-xl u-btn-primary text-uppercase g-font-weight-600 g-font-size-12 rounded g-mr-15 g-mb-10 g-mb-0--sm float-right" (click)="addTeam()">Сохранить</span>
					<h2 class="float-left h1 g-color-gray-dark-v1 g-font-weight-300 mb-2">Ваша команда</h2>
					<span>{{team.players.length}}/15</span>
				</div>
				<div class="col-12">

					<div class="table-responsive" *ngIf="team.players.length">
						<table class="table table-hover">
						  <thead>
							<tr>
							  <th class="country-cell">#</th>
							  <th class="country-cell">Страна</th>
							  <th class="country-cell">Позиция</th>
							  <th>Имя</th>
							  <th class="country-cell">Клуб</th>
							  <th class="country-cell">Стоимость</th>
							  <th class="country-cell">Очки</th>
							  <th></th>
							</tr>
						  </thead>

						  <tbody>
							<tr *ngFor="let player of team.players;let idx = index">
								<td class="country-cell">{{idx+1}}</td>
								<td class="country-cell"><span [className]="player.country + ' flag'"></span></td>
								<td class="country-cell">{{player.position}}</td>
								<td><strong>{{player.name}}</strong></td>
								<td class="country-cell">{{player.club.ukrName}}</td>
								<td class="country-cell">3,4М</td>
								<td class="country-cell">34</td>
								<td><span class="align-self-center small text-nowrap">убрать из команди</span></td>
							</tr>
						  </tbody>
						</table>
					</div>
					<div class="no-results"  *ngIf="!team.players.length">
						Ви ще не створили команду!
					</div>
				</div>
			</div>
		</div>
		<div class="col-3">
			<div class="row">
				<div class="col-12">
					<h4 class="h3 g-color-gray-dark-v1 g-font-weight-300 mb-2">List of players</h4>
					<div class="btn-group selectForList" dropdown>
						<button dropdownToggle type="button" class="btn  u-btn-primary dropdown-toggle">
							{{selectedPosition}} <span class="caret"></span>
						</button>
						<ul *dropdownMenu class="dropdown-menu" role="menu">
							<li role="menuitem" *ngFor="let position of listPositions"  (click)="filterByPosition(position)"><a class="dropdown-item" href="javascript:void(0)">{{position.name}}</a></li>
						</ul>
					</div>

					<div class="btn-group" dropdown>
						<button dropdownToggle type="button" class="btn  u-btn-primary dropdown-toggle">
							{{selectedClub}} <span class="caret"></span>
						</button>
						<ul *dropdownMenu class="dropdown-menu" role="menu">
							<li role="menuitem" *ngFor="let club of clubs"  (click)="filterByClub(club)"><a class="dropdown-item" href="javascript:void(0)">{{club.ukrName}}</a></li>
						</ul>
					</div>
					<!-- <ul>
						<li *ngFor="let player of players" (click)="addPlayerToTeam(player)">
							<div class="row">
								<div class="col-2">{{player.position}}, {{player.country}}</div>
								<div class="col-9">{{player.name}}, {{player.clubNumber}}</div>
								<div class="col-1"><button type="button" class="btn btn-success" *ngIf="!player.inTeam">+</button></div>
							</div>
						</li>
					</ul> -->

					<ul class="list-unstyled">
						<li class="media g-brd-around g-brd-gray-light-v4 g-pa-15 g-mb-minus-1" *ngFor="let player of pagedItems" >
							<div class="d-flex g-mt-2 g-mr-15">
							<!-- <span class="g-width-40 g-height-40 rounded-circle" >{{player.position}} <span [className]="player.country + ' flag'"></span></span> -->
								<img class="g-width-40 g-height-40 rounded-circle" src="assets/Ferreyra.png" alt="Image Description">
							</div>

							<div class="media-body">
							<div class="d-flex justify-content-between">
								<strong> <span [className]="player.country + ' flag'"></span> {{player.name}}</strong>
								<span class="align-self-center small text-nowrap" *ngIf="!player.inTeam" (click)="addPlayerToTeam(player)">Додати в команду</span>
								<span class="align-self-center small text-nowrap" *ngIf="player.inTeam">В команді</span>
							</div>
							<span class="d-block">{{player.position}}, {{player.club.ukrName}}</span>
							</div>
						</li>
					</ul>
					<!-- <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
						<li [ngClass]="{disabled:pager.currentPage === 1}">
							<a (click)="setPage(1)">First</a>
						</li>
						<li [ngClass]="{disabled:pager.currentPage === 1}">
							<a (click)="setPage(pager.currentPage - 1)">Previous</a>
						</li>
						<li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
							<a (click)="setPage(page)">{{page}}</a>
						</li>
						<li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
							<a (click)="setPage(pager.currentPage + 1)">Next</a>
						</li>
						<li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
							<a (click)="setPage(pager.totalPages)">Last</a>
						</li>
					</ul> -->
					<nav aria-label="Page Navigation">
						<ul class="list-inline" *ngIf="pager.pages && pager.pages.length">
						  <li class="list-inline-item" >
							<a [ngClass]="{'u-pagination-v1__item--disabled':pager.currentPage === 1}" class="u-pagination-v1__item u-pagination-v1-1 u-pagination-v1__item g-pa-7-16" aria-label="Previous" (click)="setPage(pager.currentPage - 1)">
							  <span aria-hidden="true">
								<i class="fa fa-angle-left"></i>
							  </span>
							  <span class="sr-only">Previous</span>
							</a>
						  </li>
						  <li class="list-inline-item g-hidden-sm-down"  [ngClass]="{active:pager.currentPage === page}">
							<a class="u-pagination-v1__item u-pagination-v1-1 u-pagination-v1-1--active g-pa-7-16">{{pager.currentPage}}/{{ pager.totalPages}}</a>
						  </li>
						
						  <li class="list-inline-item">
							<a class="u-pagination-v1__item u-pagination-v1-1 g-pa-7-16" aria-label="Next" [ngClass]="{'u-pagination-v1__item--disabled':pager.currentPage === pager.totalPages}" (click)="setPage(pager.currentPage + 1)">
							  <span aria-hidden="true">
								<i class="fa fa-angle-right"></i>
							  </span>
							  <span class="sr-only" >Next</span>
							</a>
						  </li>
						</ul>
					  </nav>
					
				</div>
			</div>
		</div>
	</div>
</div>